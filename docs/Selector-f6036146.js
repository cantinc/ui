import{R as e,S as a,_ as l,d as o,G as n,a as r,c as s,s as t,ac as u}from"./docs-3e04aeb9.js";import{A as p}from"./Component-a91cba9b.js";import{D as c}from"./DropdownMenu-86220aa4.js";import{I as v}from"./Input-a8f874de.js";const i=t(u);function d(t={}){var{ref:u=new e,placement:d,value:w=new a(""),values:f,oninput:h,searchValue:m,showValues:y,display:b="auto",search:k,exact:D,arrow:V=D,onsearch:j}=t,x=l(t,["ref","placement","value","values","oninput","searchValue","showValues","display","search","exact","arrow","onsearch"]);const{hint:C,after:_}=o(),g=i(),A=new a(!1),I=new a(""),L=new e;if(w instanceof a&&(h=e=>{w.value=e}),!m&&k){const e=new a(""),l=j;m=()=>e.value,j=a=>{e.value=a,null==l||l(a)}}const S="value"===b?w:new n((()=>{const e=r(w)||"",a=r(f);if(!a)return e;const l=a.find((({value:a})=>a===e));return l&&l.label||e})),P=()=>{A.value=!1,I.value="",null==j||j("")},G=f?k?()=>r(f).filter((({value:e,label:a})=>{const l=(r(m)||"").toLowerCase();return!!(null==a?void 0:a.toLowerCase().includes(l))||(!a||y)&&e.toLowerCase().startsWith(l)}))||[]:()=>r(f):[];return[{type:v,props:{...x,value:S,oninput:h,onmousedown:e=>{var a;A.value?(D||k)&&P():A.value=!0,null===(a=null==x?void 0:x.onclick)||void 0===a||a.call(x,e)},renderInput:e=>({type:"input",props:{...e,class:()=>s([e.class,g.input]),autocomplete:"off",onkeydown:a=>{var l;"ArrowDown"!==a.key&&"ArrowUp"!==a.key||A.value||(a.preventDefault(),a.stopPropagation(),A.value=!0),null===(l=e.onkeydown)||void 0===l||l.call(e,a)},placeholder:()=>A.value&&k?r(e._value):r(e.placeholder),_value:()=>A.value&&k?r(m)||"":r(e._value),oninput:a=>{var l,o;A.value&&k?(null==j||j(a.target.value),D||null===(l=e.oninput)||void 0===l||l.call(e,a)):null===(o=e.oninput)||void 0===o||o.call(e,a)},readOnly:D?!k||(()=>!A.value||void 0):void 0,onfocus:a=>{var l;A.value=!0,null===(l=null==e?void 0:e.onfocus)||void 0===l||l.call(e,a)},onblur:a=>{var l;P(),null===(l=null==e?void 0:e.onblur)||void 0===l||l.call(e,a)}}}),ref:u,class:()=>[g.root,D&&g.exact]},children:[V?{type:"slot",props:{name:"after"},children:[{type:p,props:{class:()=>g.arrow,direction:()=>r(A)?"top":"down",onmousedown:e=>{e.preventDefault(),e.stopPropagation(),A.value=!A.value}}}]}:_&&{type:"slot",props:{name:"after"},children:[_]}," ",C&&{type:"slot",props:{name:"hint"},children:[C]}]},{type:c,props:{ref:L,placement:d,show:A,element:u,values:G,preselect:I,select:w,showValues:y,onSelect:e=>{null==h||h(e),P()}}}]}export{d as S};
