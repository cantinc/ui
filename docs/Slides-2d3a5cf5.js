import{S as e,R as o,_ as s,F as l,a as r,o as n,a2 as a,s as t,ac as c}from"./docs-51e86308.js";import{a as i}from"./Component-ec9d7f3f.js";const f=t(c);function*v(t){var{slides:c,vertical:v,value:d=new e(0),onchange:u,ref:p=new o,onscroll:h,slideProps:m}=t,w=s(t,["slides","vertical","value","onchange","ref","onscroll","slideProps"]);const g=f();let y=!1,x=!1;const I=new e(!1);u=i(d,u);for(const e of c)e.ref||(e.ref=new o);yield{type:l,props:{...w,ref:p,vertical:v,onscroll:e=>{y=!0,null==h||h(e)},class:()=>[g.root,v&&g.vertical,I.value&&g.ready]},children:[c.map((e=>{var{children:o}=e,r=s(e,["children"]);return{type:l,props:{...m,...r,class:()=>g.slide},children:[o]}}))]};const T=new IntersectionObserver((e=>{if(y)for(const o of e)if(o.isIntersecting){const e=c.findIndex((({ref:e})=>(null==e?void 0:e.value)===o.target));r(d)!==e&&(x=!0,null==u||u(e))}}),{root:null==p?void 0:p.value,rootMargin:"0px",threshold:1});n((()=>{T.disconnect()}));for(const e of c)T.observe(e.ref.value);new a((()=>{var e;const o=r(d);if(x)x=!1;else if(p.value){const s=p.value,l=c[o],r=null===(e=null==l?void 0:l.ref)||void 0===e?void 0:e.value;r&&s.scrollTo(r.offsetLeft,r.offsetTop)}})),setTimeout((()=>{I.value=!0}))}export{v as S};
