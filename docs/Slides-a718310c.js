import{S as e,R as o,_ as s,F as l,a as r,o as n,a5 as a,s as t,ag as c}from"./docs-7acb2a50.js";import{a as i}from"./Component-873f34f9.js";const f=t(c);function*v(t){var{slides:c,vertical:v,value:d=new e(0),onchange:u,ref:p=new o,onscroll:h,slideProps:m}=t,g=s(t,["slides","vertical","value","onchange","ref","onscroll","slideProps"]);const w=f();let y=!1,b=!1;const x=new e(!1);u=i(d,u);for(const e of c)e.ref||(e.ref=new o);yield{type:l,props:{...g,ref:p,vertical:v,onscroll:e=>{y=!0,null==h||h(e)},class:()=>[w.root,v&&w.vertical,x.value&&w.ready]},children:[c.map((e=>{var{children:o}=e,r=s(e,["children"]);return{type:l,props:{...m,...r,class:()=>w.slide},children:[o]}}))]};const I=new IntersectionObserver((e=>{if(y)for(const o of e)if(o.isIntersecting){const e=c.findIndex((({ref:e})=>(null==e?void 0:e.value)===o.target));r(d)!==e&&(b=!0,null==u||u(e))}}),{root:null==p?void 0:p.value,rootMargin:"0px",threshold:1});n((()=>{I.disconnect()}));for(const e of c)I.observe(e.ref.value);new a((()=>{var e;const o=r(d);if(b)b=!1;else if(p.value){const s=p.value,l=c[o],r=null===(e=null==l?void 0:l.ref)||void 0===e?void 0:e.value;r&&s.scrollTo(r.offsetLeft,r.offsetTop)}})),setTimeout((()=>{x.value=!0}))}export{v as S};
