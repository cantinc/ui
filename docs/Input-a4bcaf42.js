import{S as e,R as l,_ as n,d as a,I as o,o as r,i as s,F as t,a as u,s as p,ai as i}from"./docs-dcf3a74d.js";const d=p(i),c=e=>({type:"input",props:{...e}});function v(p={}){var{label:i,value:v=new e(""),oninput:f,props:b,placeholder:h,autofocus:m,renderInput:g=c,error:y,disabled:w,required:I,inputRef:T=new l,name:j,type:q,loading:R,clearable:D,debounce:O}=p,_=n(p,["label","value","oninput","props","placeholder","autofocus","renderInput","error","disabled","required","inputRef","name","type","loading","clearable","debounce"]);const x=d(),{before:F,after:L,hint:S}=a();if(v instanceof e){const e=f;f=l=>{v.value=l,null==e||e(l)}}O&&f&&(f=function(e,l=300){let n;return(...a)=>{clearTimeout(n),n=setTimeout((()=>{e(...a)}),l)}}(f,!0===O?300:O));const k=g(Object.assign(Object.assign({type:q,disabled:w,required:I,placeholder:h},null==b?void 0:b.input),{oninput:e=>{null==f||f(e.target.value)},onchange:e=>{e.target.value!==u(v)&&(null==f||f(e.target.value))},"data-value":v,_value:v,class:()=>x.input,ref:T,name:j})),z=i?{type:"span",props:{...null==b?void 0:b.label,class:x.label},children:[i]}:null,A=F?{type:"span",props:{...null==b?void 0:b.before,class:x.before},children:[F]}:null,B=L?{type:"span",props:{...null==b?void 0:b.after,class:x.after},children:[L]}:null,C=S?{type:"span",props:{...null==b?void 0:b.hint,class:x.hint},children:[S]}:null,E=D?{type:o,props:{icon:"cross",...null==b?void 0:b.clear,onmousedown:e=>{e.preventDefault(),null==f||f("")},class:()=>x.clear}}:null;if(m){const e=setTimeout((()=>{var e;null===(e=T.value)||void 0===e||e.focus()}),"number"==typeof m?m:0);r((()=>clearTimeout(e)))}const G=s(R,(e=>!e));return{type:t,props:{align:"center",padding:16,gap:8,element:"label",..._,onmousedown:e=>{var l;e.target!==T.value&&e.preventDefault(),null===(l=null==_?void 0:_.onmousedown)||void 0===l||l.call(_,e)},class:()=>[x.root,u(i)&&x.withLabel,u(y)&&x.error,u(R)&&x.loading]},children:[{type:"show",props:{state:G},children:[k," ",E," ",A," ",z," ",B," ",C,{type:"span",props:{...null==b?void 0:b.border,class:()=>x.border}}]}]}}export{v as I};
