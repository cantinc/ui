import{S as e,_ as s,a2 as o,a,o as t,F as l,c as n,s as r,aa as u,u as c}from"./docs-6ba3e768.js";import{u as i}from"./unwatch.es6-48561f16.js";import{a as p}from"./Component-5f8800d1.js";const v=r(u);function d(r){var{ref:u,count:d,autoscroll:m,style:f="",size:g=12,progress:w,value:$=new e(0),onchange:y,onend:h,circular:T}=r,j=s(r,["ref","count","autoscroll","style","size","progress","value","onchange","onend","circular"]);const z=v(),x=c();let b;y=p($,y);let k=!1;const A=new e(.3),C=new e,D=new e(0);new o((()=>{const e=a($);if(a(m)&&!k&&i((()=>C.value))===e)return C.value=e-1,void setTimeout((()=>{C.value=e}));C.value=e})),new o((()=>{const e=a(m);e?new o((()=>{k=!1,clearTimeout(b);const s=a($);A.value=.3,D.value=s+1,b=setTimeout((()=>{const s=!0===e?2e4:e;A.value=s/1e3;const o=D.value;C.value=o,b=setTimeout((()=>{k=!0,o===d?(null==h||h(),T&&(null==y||y(0))):null==y||y(o)}),s)}),1e3)})):clearTimeout(b)})),t((()=>clearTimeout(b)));const F=[...new Array(d)].map(((e,s)=>s));return{type:l,props:{gap:8,...j,ref:u,style:()=>{const e=a(m)?C.value:C.value+1,s=`--ui-dots-progress:${e/d};`,o=`--ui-dots-size:${a(g)}px;`,t=`--ui-dots-transition:${A.value}s;`;return`${s}${o}${w?"--ui-dots-left:0;":`--ui-dots-left:calc(100% * ${(a(m)?D.value:e)/d-1/d});`}${t}${a(f)}`},class:()=>z.root},children:[F.map((e=>({type:"div",props:{class:()=>n([z.dot,a($)===e&&z.active]),onclick:()=>null==y?void 0:y(e)},children:[null==x?void 0:x[0](e)]}))),{type:l,props:{gap:8,...j,class:()=>z.progress},children:[F.map((e=>({type:"div",props:{class:()=>z.dotProgress},children:[null==x?void 0:x[0](e)]})))]}]}}export{d as D};
