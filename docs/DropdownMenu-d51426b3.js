import{ab as e,R as n,_ as l,c as t,a as s,s as r,ac as o,S as a,u,e as c,ad as p,a3 as i,i as d,ae as v}from"./docs-2558e852.js";import{D as f}from"./Dropdown-35f83c2f.js";function h({type:n,listener:l,target:t}){e(n,l,t)}const w=r(o);function y(e){var{value:r,label:o,hint:a,showValues:u,preselected:c,selected:p,onPreselect:i,onSelect:d,onmousedown:v,onmouseenter:f,ref:h=new n}=e,y=l(e,["value","label","hint","showValues","preselected","selected","onPreselect","onSelect","onmousedown","onmouseenter","ref"]);const m=w();return{type:"div",props:{...y,ref:h,onmouseenter:e=>{null==i||i(),null==f||f(e)},onmousedown:e=>{e.preventDefault(),null==d||d(),null==v||v(e)},class:()=>t([m.root,s(p)&&m.selected,s(c)&&m.preselected])},children:[o||r,{type:"show",props:{when:u||a},children:[{type:"span",props:{class:m.value},children:[a||r]}]}]}}const m=r(p);function g(e){var{values:n,showValues:t,select:r=new a(""),preselect:o=new a(""),onSelect:p,onPreselect:w}=e,g=l(e,["values","showValues","select","preselect","onSelect","onPreselect"]);const D=u(),k=m();p=c(r,p),w=c(o,w);return{type:f,props:{vertical:!0,align:"stretch",...g,class:k},children:[{type:h,props:{type:"keydown",listener:e=>{if("ArrowDown"!==e.key&&"ArrowUp"!==e.key||(e.preventDefault(),"ArrowDown"===e.key?(()=>{if(!w)return;const e=s(n);if(!(null==e?void 0:e.length))return;const l=s(o),t=e.findIndex((({value:e})=>e===l));if(-1===t){const n=s(r),l=e.findIndex((({value:e})=>e===n)),t=l>=e.length-1?0:l+1;return w(-1===l?e[0].value:e[t].value)}if(t===e.length-1)return w(e[0].value);w(e[t+1].value)})():(()=>{if(!w)return;const e=s(n);if(!(null==e?void 0:e.length))return;const l=s(o),t=e.findIndex((({value:e})=>e===l));if(-1===t){const n=s(r),l=e.findIndex((({value:e})=>e===n)),t=l<1?e.length-1:l-1;return w(e[t].value)}if(0===t)return w(e[e.length-1].value);w(e[t-1].value)})()),"Enter"===e.key){const n=s(o);n&&(e.preventDefault(),null==p||p(n))}}}},D,{type:"map",props:{of:n||[],key:"value"},children:[{type:()=>{const e=i(),n=d(e,(e=>e.value));return{type:y,props:{...v((()=>s(e))),selected:()=>s(r)===s(n),onSelect:()=>null==p?void 0:p(s(n)),preselected:()=>s(o)===s(n),onPreselect:()=>null==w?void 0:w(s(n)),showValues:t}}}}]}]}}export{g as D};
