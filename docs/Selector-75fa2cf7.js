import{R as e,S as a,_ as l,d as o,e as n,N as u,a as s,c as t,s as r,ar as p}from"./docs-dcf3a74d.js";import{A as c}from"./Component-c2d1f5f9.js";import{D as v}from"./DropdownMenu-333faf4a.js";import{I as i}from"./Input-a4bcaf42.js";const d=r(p);function f(r={}){var{ref:p=new e,inputRef:f=new e,placement:w,value:m=new a(""),values:h,oninput:y,searchValue:b,showValues:D,display:V="auto",search:j,exact:k,arrow:x=k,onsearch:C}=r,R=l(r,["ref","inputRef","placement","value","values","oninput","searchValue","showValues","display","search","exact","arrow","onsearch"]);const{hint:_,after:g}=o(),A=d(),I=new a(!1),L=new a(""),S=new e;if(y=n(m,y),k){const e=y;y=a=>{I.value||e(a)}}if(!b&&j){const e=new a(""),l=C;b=()=>e.value,C=a=>{e.value=a,null==l||l(a)}}const P="value"===V?m:new u((()=>{const e=s(m)||"",a=s(h);if(!a)return e;const l=a.find((({value:a})=>a===e));return l&&e&&l.label||e})),M=()=>{I.value=!1,L.value="",null==C||C("")},N=h?j?()=>s(h).filter((({value:e,label:a})=>{const l=(s(b)||"").toLowerCase();return!!(null==a?void 0:a.toLowerCase().includes(l))||(!a||D)&&e.toLowerCase().startsWith(l)}))||[]:()=>s(h):[];return[{type:i,props:{...R,inputRef:f,value:P,oninput:y,onmousedown:e=>{var a,l;I.value?(k||j)&&M():(I.value=!0,null===(a=f.value)||void 0===a||a.focus()),null===(l=null==R?void 0:R.onmousedown)||void 0===l||l.call(R,e)},renderInput:e=>({type:"input",props:{...e,class:()=>t([e.class,A.input]),autocomplete:"off",onkeydown:a=>{var l;"ArrowDown"!==a.key&&"ArrowUp"!==a.key||I.value||(a.preventDefault(),a.stopPropagation(),I.value=!0),null===(l=e.onkeydown)||void 0===l||l.call(e,a)},placeholder:()=>I.value&&j?s(e._value):s(e.placeholder),_value:()=>I.value&&j?s(b)||"":s(e._value),oninput:a=>{var l,o;I.value&&j?(null==C||C(a.target.value),k||null===(l=e.oninput)||void 0===l||l.call(e,a)):null===(o=e.oninput)||void 0===o||o.call(e,a)},readOnly:k?!j||(()=>!I.value||void 0):void 0,onfocus:a=>{var l;I.value=!0,null===(l=null==e?void 0:e.onfocus)||void 0===l||l.call(e,a)},onblur:a=>{var l;M(),null===(l=null==e?void 0:e.onblur)||void 0===l||l.call(e,a)}}}),ref:p,class:()=>[A.root,k&&A.exact]},children:[x?{type:"slot",props:{name:"after"},children:[{type:c,props:{class:()=>A.arrow,direction:()=>s(I)?"top":"down",onmousedown:e=>{e.preventDefault(),e.stopPropagation(),I.value=!I.value}}}]}:g&&{type:"slot",props:{name:"after"},children:[g]}," ",_&&{type:"slot",props:{name:"hint"},children:[_]}]},{type:v,props:{ref:S,placement:w,show:I,element:p,values:N,preselect:L,select:m,showValues:D,onSelect:e=>{M(),null==y||y(e)}}}]}export{f as S};
