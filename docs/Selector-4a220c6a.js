import{R as e,S as l,_ as a,d as o,G as n,a as r,c as s,s as t,a9 as u}from"./docs-51e86308.js";import{A as p}from"./Component-ec9d7f3f.js";import{D as c}from"./DropdownMenu-3242f13f.js";import{I as v}from"./Input-17a311e6.js";const i=t(u);function d(t={}){var{ref:u=new e,placement:d,value:f=new l(""),values:w,oninput:h,searchValue:m,showValues:y,display:k="auto",search:D,exact:V,arrow:b=V,onsearch:j}=t,x=a(t,["ref","placement","value","values","oninput","searchValue","showValues","display","search","exact","arrow","onsearch"]);const{hint:C,after:_}=o(),g=i(),A=new l(!1),I=new l(""),L=new e;if(f instanceof l&&(h=e=>{f.value=e}),!m&&D){const e=new l(""),a=j;m=()=>e.value,j=l=>{e.value=l,null==a||a(l)}}const S="value"===k?f:new n((()=>{const e=r(f)||"",l=r(w);if(!l)return e;const a=l.find((({value:l})=>l===e));return a&&a.label||e})),P=()=>{A.value=!1,I.value="",null==j||j("")},G=w?D?()=>r(w).filter((({value:e,label:l})=>{const a=(r(m)||"").toLowerCase();return!!(null==l?void 0:l.toLowerCase().includes(a))||(!l||y)&&e.toLowerCase().startsWith(a)}))||[]:()=>r(w):[];return[{type:v,props:{...x,value:S,oninput:h,onmousedown:e=>{var l;A.value?(V||D)&&P():A.value=!0,null===(l=null==x?void 0:x.onclick)||void 0===l||l.call(x,e)},renderInput:e=>({type:"input",props:{...e,class:()=>s([e.class,g.input]),autocomplete:"off",onkeydown:l=>{var a;"ArrowDown"!==l.key&&"ArrowUp"!==l.key||A.value||(l.preventDefault(),l.stopPropagation(),A.value=!0),null===(a=e.onkeydown)||void 0===a||a.call(e,l)},placeholder:()=>A.value&&D?r(e._value):r(e.placeholder),_value:()=>A.value&&D?r(m)||"":r(e._value),oninput:l=>{var a,o;A.value&&D?(null==j||j(l.target.value),V||null===(a=e.oninput)||void 0===a||a.call(e,l)):null===(o=e.oninput)||void 0===o||o.call(e,l)},readOnly:V?!D||(()=>!A.value||void 0):void 0,onfocus:l=>{var a;A.value=!0,null===(a=null==e?void 0:e.onfocus)||void 0===a||a.call(e,l)},onblur:l=>{var a;P(),null===(a=null==e?void 0:e.onblur)||void 0===a||a.call(e,l)}}}),ref:u,class:()=>[g.root,V&&g.exact]},children:[b?{type:"slot",props:{name:"after"},children:[{type:p,props:{class:()=>g.arrow,direction:()=>r(A)?"top":"down",onmousedown:e=>{e.preventDefault(),e.stopPropagation(),A.value=!A.value}}}]}:_&&{type:"slot",props:{name:"after"},children:[_]}," ",C&&{type:"slot",props:{name:"hint"},children:[C]}]},{type:c,props:{ref:L,placement:d,show:A,element:u,values:G,preselect:I,select:f,showValues:y,onSelect:e=>{null==h||h(e),P()}}}]}export{d as S};
