import{R as e,S as l,_ as a,d as o,e as n,N as u,a as s,a0 as t,c as r,s as p,at as v}from"./docs-87b449de.js";import{A as c}from"./Component-355e5978.js";import{D as i}from"./DropdownMenu-a8226562.js";const d=p(v);function w(p={}){var{ref:v=new e,inputRef:w=new e,placement:f,value:h=new l(""),values:m,oninput:y,searchValue:b,showValues:D,display:V="auto",search:k,exact:x,arrow:C=x,onsearch:R}=p,_=a(p,["ref","inputRef","placement","value","values","oninput","searchValue","showValues","display","search","exact","arrow","onsearch"]);const{"":g,hint:j,after:A}=o(),L=d(),S=new l(!1),P=new l(""),I=new e;if(y=n(h,y),x){const e=y;y=l=>{S.value||e(l)}}if(!b&&k){const e=new l(""),a=R;b=()=>e.value,R=l=>{e.value=l,null==a||a(l)}}const M="value"===V?h:new u((()=>{const e=s(h)||"",l=s(m);if(!l)return e;const a=l.find((({value:l})=>l===e));return a&&e&&a.label||e})),N=()=>{S.value=!1,P.value="",null==R||R("")},O=m?k?()=>s(m).filter((({value:e,label:l})=>{const a=(s(b)||"").toLowerCase();return!!(null==l?void 0:l.toLowerCase().includes(a))||(!l||D)&&e.toLowerCase().startsWith(a)}))||[]:()=>s(m):[];return[{type:t,props:{..._,inputRef:w,value:M,oninput:y,onmousedown:e=>{var l,a;S.value?(x||k)&&N():(S.value=!0,null===(l=w.value)||void 0===l||l.focus()),null===(a=null==_?void 0:_.onmousedown)||void 0===a||a.call(_,e)},renderInput:e=>({type:"input",props:{...e,class:()=>r([e.class,L.input]),autocomplete:"off",onkeydown:l=>{var a;"ArrowDown"!==l.key&&"ArrowUp"!==l.key||S.value||(l.preventDefault(),l.stopPropagation(),S.value=!0),null===(a=e.onkeydown)||void 0===a||a.call(e,l)},placeholder:()=>S.value&&k?s(e._value):s(e.placeholder),_value:()=>S.value&&k?s(b)||"":s(e._value),oninput:l=>{var a,o;S.value&&k?(null==R||R(l.target.value),x||null===(a=e.oninput)||void 0===a||a.call(e,l)):null===(o=e.oninput)||void 0===o||o.call(e,l)},readOnly:x?!k||(()=>!S.value||void 0):void 0,onfocus:l=>{var a;S.value=!0,null===(a=null==e?void 0:e.onfocus)||void 0===a||a.call(e,l)},onblur:l=>{var a;N(),null===(a=null==e?void 0:e.onblur)||void 0===a||a.call(e,l)}}}),ref:v,class:()=>[L.root,x&&L.exact]},children:[C?{type:"slot",props:{name:"after"},children:[{type:c,props:{class:()=>L.arrow,direction:()=>s(S)?"top":"down",onmousedown:e=>{e.preventDefault(),e.stopPropagation(),S.value=!S.value}}}]}:A&&{type:"slot",props:{name:"after"},children:[A]}," ",j&&{type:"slot",props:{name:"hint"},children:[j]}]},{type:i,props:{ref:I,placement:f,show:S,element:v,values:O,preselect:P,select:h,showValues:D,onSelect:e=>{N(),null==y||y(e)}},children:[g]}]}export{w as S};
