import{R as e,_ as l,c as n,a as t,s,W as o,S as r,X as u,u as a}from"./docs-4dbfcb03.js";import{a as c}from"./Component-5b523363.js";import{u as p}from"./useListener-88926602.js";import{D as v}from"./Dropdown-09e7c46e.js";function i({type:e,listener:l,target:n}){p(e,l,n)}const d=s(o);function f(s){var{value:o,label:r,showValues:u,preselected:a,selected:c,onPreselect:p,onSelect:v,onmousedown:i,onmouseenter:f,ref:w=new e}=s,h=l(s,["value","label","showValues","preselected","selected","onPreselect","onSelect","onmousedown","onmouseenter","ref"]);const m=d();return{type:"div",props:{...h,ref:w,onmouseenter:e=>{null==p||p(),null==f||f(e)},onmousedown:e=>{e.preventDefault(),null==v||v(),null==i||i(e)},class:()=>n([m.root,t(c)&&m.selected,t(a)&&m.preselected])},children:[r||o," ",u&&{type:"span",props:{class:m.value},children:[o]}]}}const w=s(u);function h(e){var{values:n,showValues:s,select:o=new r(""),preselect:u=new r(""),onSelect:p,onPreselect:d}=e,h=l(e,["values","showValues","select","preselect","onSelect","onPreselect"]);const m=a(),y=w();p=c(o,p),d=c(u,d);return{type:v,props:{vertical:!0,align:"stretch",...h,class:y},children:[{type:i,props:{type:"keydown",listener:e=>{if("ArrowDown"!==e.key&&"ArrowUp"!==e.key||(e.preventDefault(),"ArrowDown"===e.key?(()=>{if(!d)return;const e=t(n);if(!(null==e?void 0:e.length))return;const l=t(u),s=e.findIndex((({value:e})=>e===l));if(-1===s){const l=t(o),n=e.findIndex((({value:e})=>e===l)),s=n>=e.length-1?0:n+1;return d(-1===n?e[0].value:e[s].value)}if(s===e.length-1)return d(e[0].value);d(e[s+1].value)})():(()=>{if(!d)return;const e=t(n);if(!(null==e?void 0:e.length))return;const l=t(u),s=e.findIndex((({value:e})=>e===l));if(-1===s){const l=t(o),n=e.findIndex((({value:e})=>e===l)),s=n<1?e.length-1:n-1;return d(e[s].value)}if(0===s)return d(e[e.length-1].value);d(e[s-1].value)})()),"Enter"===e.key){const l=t(u);l&&(e.preventDefault(),null==p||p(l))}}}},{type:"for",props:{of:n||[],key:"value"},children:[e=>({type:f,props:{...e.value,selected:()=>t(o)===e.value.value,onSelect:()=>null==p?void 0:p(e.value.value),preselected:()=>t(u)===e.value.value,onPreselect:()=>null==d?void 0:d(e.value.value),showValues:s}})]},m]}}export{h as D};
