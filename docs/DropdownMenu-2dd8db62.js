import{R as e,_ as l,c as n,a as t,s,W as o,S as r,X as u,u as a}from"./docs-7f82f961.js";import{a as c}from"./Component-15ffbf72.js";import{u as p}from"./useListener-ff43f1fd.js";import{D as f}from"./Dropdown-68d55065.js";function v({type:e,listener:l,target:n}){p(e,l,n)}const i=s(o);function d(s){var{value:o,label:r,showValues:u,preselected:a,selected:c,onPreselect:p,onSelect:f,onmousedown:v,onmouseenter:d,ref:w=new e}=s,h=l(s,["value","label","showValues","preselected","selected","onPreselect","onSelect","onmousedown","onmouseenter","ref"]);const m=i();return{type:"div",props:{...h,ref:w,onmouseenter:e=>{null==p||p(),null==d||d(e)},onmousedown:e=>{e.preventDefault(),null==f||f(),null==v||v(e)},class:()=>n([m.root,t(c)&&m.selected,t(a)&&m.preselected])},children:[r||o," ",u&&{type:"span",props:{class:m.value},children:[o]}]}}const w=s(u);function h(e){var{values:n,showValues:s,select:o=new r(""),preselect:u=new r(""),onSelect:p,onPreselect:i}=e,h=l(e,["values","showValues","select","preselect","onSelect","onPreselect"]);const m=a(),y=w();p=c(o,p),i=c(u,i);return{type:f,props:{vertical:!0,align:"stretch",...h,class:y},children:[{type:v,props:{type:"keydown",listener:e=>{if("ArrowDown"!==e.key&&"ArrowUp"!==e.key||(e.preventDefault(),"ArrowDown"===e.key?(()=>{if(!i)return;const e=t(n);if(!(null==e?void 0:e.length))return;const l=t(u),s=e.findIndex((({value:e})=>e===l));if(-1===s){const l=t(o),n=e.findIndex((({value:e})=>e===l)),s=n>=e.length-1?0:n+1;return i(-1===n?e[0].value:e[s].value)}if(s===e.length-1)return i(e[0].value);i(e[s+1].value)})():(()=>{if(!i)return;const e=t(n);if(!(null==e?void 0:e.length))return;const l=t(u),s=e.findIndex((({value:e})=>e===l));if(-1===s){const l=t(o),n=e.findIndex((({value:e})=>e===l)),s=n<1?e.length-1:n-1;return i(e[s].value)}if(0===s)return i(e[e.length-1].value);i(e[s-1].value)})()),"Enter"===e.key){const l=t(u);l&&(e.preventDefault(),null==p||p(l))}}}},{type:"for",props:{of:n||[],key:"value"},children:[e=>({type:d,props:{...e.value,selected:()=>t(o)===e.value.value,onSelect:()=>null==p?void 0:p(e.value.value),preselected:()=>t(u)===e.value.value,onPreselect:()=>null==i?void 0:i(e.value.value),showValues:s}})]},m]}}export{h as D};
