import{R as e,_ as a,u as s,S as r,O as n,a as i,W as o,o as u,F as l,i as t,s as c,V as v}from"./docs-2558e852.js";const g=c(v);function d(c){var{src:v,fallback:d,size:f,ratio:w=1,radius:b=8,style:m,loading:p,ref:y=new e}=c,$=a(c,["src","fallback","size","ratio","radius","style","loading","ref"]);const k=s(),I=g(),O=new r(!1),j=new r(!1),x=new r(!1),z=d?new n((()=>j.value?i(d):i(v))):v,h=new n((()=>i(p)||O.value));new o((()=>{if(!x.value)return;const e=i(z);O.value=!0;const a=new window.Image;a.onload=()=>{O.value=!1},a.onerror=()=>{j.value?O.value=!1:j.value=!0},a.src=e}));let A=!1;const S=()=>{y.value&&!A&&(A=!0,q.unobserve(y.value))},q=new IntersectionObserver((function(e){e.forEach((e=>{e.isIntersecting&&(x.value=!0,S())}))}));return queueMicrotask((()=>{y.value&&q.observe(y.value)})),u(S),{type:l,props:{...$,ref:y,loading:h,style:Object.assign(Object.assign({},m),{"--ui-image-ratio":t(w,(e=>Array.isArray(e)?`${e[0]} / ${e[1]}`:String(e))),"--ui-image-radius":t(b,(e=>"number"==typeof e?`${e}px`:e)),"--ui-image-size":t(f,(e=>`${e}px`)),"background-image":()=>x.value&&`url("${i(z)}")`}),class:()=>I.root},children:[k]}}export{d as I};
