import{R as e,S as l,_ as a,d as o,e as n,K as u,a as s,c as t,s as r,an as p}from"./docs-9c5485ea.js";import{A as v}from"./Component-d6910b8d.js";import{D as c}from"./DropdownMenu-2d8b461e.js";import{I as i}from"./Input-1a0d9d5e.js";const d=r(p);function w(r={}){var{ref:p=new e,inputRef:w=new e,placement:f,value:m=new l(""),values:h,oninput:y,searchValue:b,showValues:D,display:V="auto",search:j,exact:k,arrow:x=k,onsearch:C}=r,R=a(r,["ref","inputRef","placement","value","values","oninput","searchValue","showValues","display","search","exact","arrow","onsearch"]);const{hint:_,after:g}=o(),A=d(),I=new l(!1),L=new l(""),S=new e;if(y=n(m,y),k){const e=y;y=l=>{I.value||e(l)}}if(!b&&j){const e=new l(""),a=C;b=()=>e.value,C=l=>{e.value=l,null==a||a(l)}}const P="value"===V?m:new u((()=>{const e=s(m)||"",l=s(h);if(!l)return e;const a=l.find((({value:l})=>l===e));return a&&e&&a.label||e})),K=()=>{I.value=!1,L.value="",null==C||C("")},M=h?j?()=>s(h).filter((({value:e,label:l})=>{const a=(s(b)||"").toLowerCase();return!!(null==l?void 0:l.toLowerCase().includes(a))||(!l||D)&&e.toLowerCase().startsWith(a)}))||[]:()=>s(h):[];return[{type:i,props:{...R,inputRef:w,value:P,oninput:y,onmousedown:e=>{var l,a;I.value?(k||j)&&K():(I.value=!0,null===(l=w.value)||void 0===l||l.focus()),null===(a=null==R?void 0:R.onmousedown)||void 0===a||a.call(R,e)},renderInput:e=>({type:"input",props:{...e,class:()=>t([e.class,A.input]),autocomplete:"off",onkeydown:l=>{var a;"ArrowDown"!==l.key&&"ArrowUp"!==l.key||I.value||(l.preventDefault(),l.stopPropagation(),I.value=!0),null===(a=e.onkeydown)||void 0===a||a.call(e,l)},placeholder:()=>I.value&&j?s(e._value):s(e.placeholder),_value:()=>I.value&&j?s(b)||"":s(e._value),oninput:l=>{var a,o;I.value&&j?(null==C||C(l.target.value),k||null===(a=e.oninput)||void 0===a||a.call(e,l)):null===(o=e.oninput)||void 0===o||o.call(e,l)},readOnly:k?!j||(()=>!I.value||void 0):void 0,onfocus:l=>{var a;I.value=!0,null===(a=null==e?void 0:e.onfocus)||void 0===a||a.call(e,l)},onblur:l=>{var a;K(),null===(a=null==e?void 0:e.onblur)||void 0===a||a.call(e,l)}}}),ref:p,class:()=>[A.root,k&&A.exact]},children:[x?{type:"slot",props:{name:"after"},children:[{type:v,props:{class:()=>A.arrow,direction:()=>s(I)?"top":"down",onmousedown:e=>{e.preventDefault(),e.stopPropagation(),I.value=!I.value}}}]}:g&&{type:"slot",props:{name:"after"},children:[g]}," ",_&&{type:"slot",props:{name:"hint"},children:[_]}]},{type:c,props:{ref:S,placement:f,show:I,element:p,values:M,preselect:L,select:m,showValues:D,onSelect:e=>{K(),null==y||y(e)}}}]}export{w as S};
