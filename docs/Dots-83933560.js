import{S as e,_ as s,a5 as a,a as o,o as t,G as l,F as n,i as r,c as u,s as c,ak as i,u as p}from"./docs-3e04aeb9.js";import{u as v}from"./unwatch.es6-d4470f01.js";import{a as d}from"./Component-a91cba9b.js";const m=c(i);function g(c){var{ref:i,count:g,autoscroll:f,style:w,size:y=12,progress:h,value:T=new e(0),onchange:b,onend:j,circular:z}=c,$=s(c,["ref","count","autoscroll","style","size","progress","value","onchange","onend","circular"]);const k=m(),x=p();let O;b=d(T,b);let S=!1;const A=new e(.3),C=new e,D=new e(0);new a((()=>{const e=o(T);if(o(f)&&!S&&v((()=>C.value))===e)return C.value=e-1,void setTimeout((()=>{C.value=e}));C.value=e})),new a((()=>{const e=o(f);e?new a((()=>{S=!1,clearTimeout(O);const s=o(T);A.value=.3,D.value=s+1,O=setTimeout((()=>{const s=!0===e?1e4:e;A.value=s/1e3;const a=D.value;C.value=a,O=setTimeout((()=>{S=!0,a===g?(null==j||j(),z&&(null==b||b(0))):null==b||b(a)}),s)}),1e3)})):clearTimeout(O)})),t((()=>clearTimeout(O)));const F=new l((()=>(o(f)?C.value:C.value+1)/g)),G=[...new Array(g)].map(((e,s)=>s));return{type:n,props:{gap:8,...$,ref:i,style:Object.assign(Object.assign({},w),{"--ui-dots-progress":r(F,String),"--ui-dots-size":r(y,(e=>`${e}px`)),"--ui-dots-transition":()=>`${A.value}s`,"--ui-dots-left":h?"0":()=>`calc(100% * ${(o(f)?D.value/g:F.value)-1/g})`}),class:()=>k.root},children:[G.map((e=>({type:"div",props:{class:()=>u([k.dot,o(T)===e&&k.active]),onclick:()=>null==b?void 0:b(e)},children:[null==x?void 0:x[0](e)]}))),{type:n,props:{gap:8,...$,class:()=>k.progress},children:[G.map((e=>({type:"div",props:{class:()=>k.dotProgress},children:[null==x?void 0:x[0](e)]})))]}]}}export{g as D};
