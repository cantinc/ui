import{_ as e,R as t,g as o,h as n,ab as s,ac as a,S as r,W as l,ad as u,o as c,a as d,c as i,ae as p,F as h,u as v,e as y,s as w,af as b}from"./docs-b93caad8.js";const f=w(b);let g=0;const m=()=>{const e=document.createElement("span").style;return e.setProperty("border-radius","20px"),e};function $(y){var{element:w,style:b,contentStyle:$,onhide:x,rootRef:R=new t,ref:S=new t,background:k,closeButton:j}=y,B=e(y,["element","style","contentStyle","onhide","rootRef","ref","background","closeButton"]);const C=v(),O=o(),T=n(),E=n(200),H=n(500),{touched:M,touchHide:P,handleTouchStart:W,handleTouchMove:D,handleTouchEnd:F}=s({hide:x,touchStart(){z.value=q()},element:S}),_=f();a(x);const q=()=>{var e;return(null===(e=null==w?void 0:w.value)||void 0===e?void 0:e.isConnected)?{rect:w.value.getBoundingClientRect(),styles:window.getComputedStyle(w.value)}:{rect:new DOMRect(window.innerWidth/2,window.innerHeight/2,0,0),styles:m()}},z=new r(q());return O&&new l((()=>{O.value&&(z.value=q())})),g||u("hidden"),g++,c((()=>{g--,g||u("")})),{type:"div",props:{ref:R,style:Object.assign(Object.assign({},b),{"--ui-popout-top":()=>`${z.value.rect.top}px`,"--ui-popout-left":()=>`${z.value.rect.left}px`,"--ui-popout-width":()=>`${z.value.rect.width}px`,"--ui-popout-height":()=>`${z.value.rect.height}px`,"--ui-popout-radius":()=>`${z.value.styles.borderRadius}`,"--ui-popout-border":()=>`${z.value.styles.border}`,"--ui-popout-touch-hide":()=>`${P.value}`,background:()=>`${d(k)||z.value.styles.background}`}),ontouchstart:W,ontouchmove:D,ontouchend:F,class:()=>i([_.root,T.value&&_.preshow,E.value&&_.show,H.value&&_.shown,(null==O?void 0:O.value)&&_.hide,M.value&&_.touch])},children:[{type:"show",props:{when:j},children:[{type:"div",props:{class:()=>_.static},children:[{type:p,props:{onclick:x,..."boolean"==typeof j?{}:j}}]}]},{type:h,props:{...B,ref:S,style:$,class:()=>_.content},children:[C]}]}}function x(o){var{show:n=!0,onhide:s}=o,a=e(o,["show","onhide"]);const r=v(),l=new t,u=y(n,s);return{type:"show",props:{when:n},children:[{type:"portal",props:{parent:document.body},children:[{type:"delay",props:{ref:l,hide:600},children:[{type:$,props:{onhide:()=>null==u?void 0:u(!1),...a},children:[r]}]}]}]}}export{x as P};
