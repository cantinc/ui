import{_ as e,R as t,f as o,g as u,S as l,a1 as n,a2 as s,V as a,o as i,c as r,F as c,u as p,s as d,a3 as h}from"./docs-51e86308.js";import{a as v}from"./Component-ec9d7f3f.js";const y=d(h);let w=0;function f(d){var{element:h,style:v,contentStyle:f,onhide:g,rootRef:m=new t}=d,b=e(d,["element","style","contentStyle","onhide","rootRef"]);if(!h.value)return null;const $=p(),x=o(),R=u(),C=u(200),S=y();let j,Y;const k=new l(!1),B=new l(0);n(g);const O=new l({rect:h.value.getBoundingClientRect(),styles:window.getComputedStyle(h.value)});return x&&new s((()=>{h.value&&x.value&&(O.value={rect:h.value.getBoundingClientRect(),styles:window.getComputedStyle(h.value)})})),w||a("hidden"),w++,i((()=>{w--,w||a("")})),{type:"div",props:{ref:m,style:Object.assign(Object.assign({},v),{"--ui-popout-top":()=>`${O.value.rect.top}px`,"--ui-popout-left":()=>`${O.value.rect.left}px`,"--ui-popout-width":()=>`${O.value.rect.width}px`,"--ui-popout-height":()=>`${O.value.rect.height}px`,"--ui-popout-radius":()=>`${O.value.styles.borderRadius}`,"--ui-popout-border":()=>`${O.value.styles.border}`,"--ui-popout-touch-hide":()=>`${B.value}px`,"--ui-popout-background":()=>`${O.value.styles.background}`}),ontouchstart:e=>{j=e.touches[0].clientY,Y=e.touches[0].clientX,k.value=!0},ontouchmove:e=>{if(!k.value)return;const t=e.touches[0].clientY-j;if(Math.abs(e.touches[0].clientX-Y)>t)return k.value=!1,void(B.value=0);t>100?(k.value=!1,g()):B.value=e.touches[0].clientY-j},ontouchend:()=>{k.value=!1,B.value=0},class:()=>r([S.root,R.value&&S.preshow,C.value&&S.show,(null==x?void 0:x.value)&&S.hide,k.value&&S.touch])},children:[{type:c,props:{...b,style:f,class:()=>S.content},children:[$]}]}}function g(o){var{show:u=!0,onhide:l}=o,n=e(o,["show","onhide"]);const s=p(),a=new t,i=v(u,l);return{type:"show",props:{state:u},children:[{type:"portal",props:{parent:document.body},children:[{type:"delay",props:{ref:a,hide:600},children:[{type:f,props:{onhide:()=>null==i?void 0:i(!1),...n},children:[s]}]}]}]}}export{g as P};
